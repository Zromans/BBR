<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Review Changes</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; padding: 20px; }
        .item { border: 1px solid #ddd; padding: 15px; margin-bottom: 20px; }
        .diff { color: #e74c3c; }
        .new { color: #2ecc71; }
    </style>
</head>
<body>
    <h1>Review Changes</h1>
    <form method="post">
        {% csrf_token %}
        {% for change in changes %}
            <div class="item">
                <h3>{{ change.new_data.name }}</h3>
                <p>URL: {{ change.new_data.url }}</p>
                {% if change.old_data %}
                    <p>Price: <span class="diff">{{ change.old_data.price }}</span> -> <span class="new">{{ change.new_data.price }}</span> (<span class="diff">{{ change.differences.price_diff }}%</span>)</p>
                    <p>Stock: <span class="diff">{{ change.old_data.stock }}</span> -> <span class="new">{{ change.new_data.stock }}</span> (<span class="diff">{{ change.differences.stock_diff }}%</span>)</p>
                    <p>Description Difference: <span class="diff">{{ change.differences.description_diff }}%</span></p>
                    <details>
                        <summary>View Descriptions</summary>
                        <p><strong>Old:</strong> {{ change.old_data.description }}</p>
                        <p><strong>New:</strong> {{ change.new_data.description }}</p>
                    </details>
                {% else %}
                    <p class="new">New Product</p>
                    <p>Price: {{ change.new_data.price }}</p>
                    <p>Stock: {{ change.new_data.stock }}</p>
                    <p>Description: {{ change.new_data.description }}</p>
                {% endif %}
                <label>
                    <input type="checkbox" name="approve" value="{{ change.new_data.id }}"> Approve
                </label>
            </div>
        {% endfor %}
        <input type="submit" value="Submit Approvals">
    </form>
</body>
</html>t type="submit" value="Submit Approvals">
</form>